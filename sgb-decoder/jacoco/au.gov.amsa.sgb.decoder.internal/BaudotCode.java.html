<?xml version="1.0" encoding="UTF-8"?><!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Strict//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-strict.dtd"><html xmlns="http://www.w3.org/1999/xhtml" lang="en"><head><meta http-equiv="Content-Type" content="text/html;charset=UTF-8"/><link rel="stylesheet" href="../jacoco-resources/report.css" type="text/css"/><link rel="shortcut icon" href="../jacoco-resources/report.gif" type="image/gif"/><title>BaudotCode.java</title><link rel="stylesheet" href="../jacoco-resources/prettify.css" type="text/css"/><script type="text/javascript" src="../jacoco-resources/prettify.js"></script></head><body onload="window['PR_TAB_WIDTH']=4;prettyPrint()"><div class="breadcrumb" id="breadcrumb"><span class="info"><a href="../jacoco-sessions.html" class="el_session">Sessions</a></span><a href="../index.html" class="el_report">sgb-decoder</a> &gt; <a href="index.source.html" class="el_package">au.gov.amsa.sgb.decoder.internal</a> &gt; <span class="el_source">BaudotCode.java</span></div><h1>BaudotCode.java</h1><pre class="source lang-java linenums">package au.gov.amsa.sgb.decoder.internal;

import java.util.HashMap;
import java.util.Map;

import com.github.davidmoten.guavamini.annotations.VisibleForTesting;

/**
 * A Baudot-like code. Same principle, different mappings.
 */
public final class BaudotCode {

<span class="fc" id="L13">    private static final Map&lt;Integer, Character&gt; MAP = createMap();</span>

    private BaudotCode() {
        // prevent instantiation
    }

    private static Map&lt;Integer, Character&gt; createMap() {
<span class="fc" id="L20">        Map&lt;Integer, Character&gt; m = new HashMap&lt;&gt;();</span>
<span class="fc" id="L21">        m.put(val(&quot;111000&quot;), 'A');</span>
<span class="fc" id="L22">        m.put(val(&quot;110011&quot;), 'B');</span>
<span class="fc" id="L23">        m.put(val(&quot;101110&quot;), 'C');</span>
<span class="fc" id="L24">        m.put(val(&quot;110010&quot;), 'D');</span>
<span class="fc" id="L25">        m.put(val(&quot;110000&quot;), 'E');</span>
<span class="fc" id="L26">        m.put(val(&quot;110110&quot;), 'F');</span>
<span class="fc" id="L27">        m.put(val(&quot;101011&quot;), 'G');</span>
<span class="fc" id="L28">        m.put(val(&quot;100101&quot;), 'H');</span>
<span class="fc" id="L29">        m.put(val(&quot;101100&quot;), 'I');</span>
<span class="fc" id="L30">        m.put(val(&quot;111010&quot;), 'J');</span>
<span class="fc" id="L31">        m.put(val(&quot;111110&quot;), 'K');</span>
<span class="fc" id="L32">        m.put(val(&quot;101001&quot;), 'L');</span>
<span class="fc" id="L33">        m.put(val(&quot;100111&quot;), 'M');</span>
<span class="fc" id="L34">        m.put(val(&quot;100110&quot;), 'N');</span>
<span class="fc" id="L35">        m.put(val(&quot;100011&quot;), 'O');</span>
<span class="fc" id="L36">        m.put(val(&quot;101101&quot;), 'P');</span>
<span class="fc" id="L37">        m.put(val(&quot;111101&quot;), 'Q');</span>
<span class="fc" id="L38">        m.put(val(&quot;101010&quot;), 'R');</span>
<span class="fc" id="L39">        m.put(val(&quot;110100&quot;), 'S');</span>
<span class="fc" id="L40">        m.put(val(&quot;100001&quot;), 'T');</span>
<span class="fc" id="L41">        m.put(val(&quot;111100&quot;), 'U');</span>
<span class="fc" id="L42">        m.put(val(&quot;101111&quot;), 'V');</span>
<span class="fc" id="L43">        m.put(val(&quot;111001&quot;), 'W');</span>
<span class="fc" id="L44">        m.put(val(&quot;110111&quot;), 'X');</span>
<span class="fc" id="L45">        m.put(val(&quot;110101&quot;), 'Y');</span>
<span class="fc" id="L46">        m.put(val(&quot;110001&quot;), 'Z');</span>
<span class="fc" id="L47">        m.put(val(&quot;100100&quot;), ' ');</span>
<span class="fc" id="L48">        m.put(val(&quot;011000&quot;), '-');</span>
<span class="fc" id="L49">        m.put(val(&quot;010111&quot;), '/');</span>
<span class="fc" id="L50">        m.put(val(&quot;001101&quot;), '0');</span>
<span class="fc" id="L51">        m.put(val(&quot;011101&quot;), '1');</span>
<span class="fc" id="L52">        m.put(val(&quot;011001&quot;), '2');</span>
<span class="fc" id="L53">        m.put(val(&quot;010000&quot;), '3');</span>
<span class="fc" id="L54">        m.put(val(&quot;001010&quot;), '4');</span>
<span class="fc" id="L55">        m.put(val(&quot;000001&quot;), '5');</span>
<span class="fc" id="L56">        m.put(val(&quot;010101&quot;), '6');</span>
<span class="fc" id="L57">        m.put(val(&quot;011100&quot;), '7');</span>
<span class="fc" id="L58">        m.put(val(&quot;001100&quot;), '8');</span>
<span class="fc" id="L59">        m.put(val(&quot;000011&quot;), '9');</span>
<span class="fc" id="L60">        return m;</span>
    }

    private static Integer val(String s) {
<span class="fc" id="L64">        return Integer.parseInt(s, 2);</span>
    }

    public static char toChar(int code) {
<span class="fc" id="L68">        Character ch = MAP.get(code);</span>
<span class="fc bfc" id="L69" title="All 2 branches covered.">        if (ch == null) {</span>
<span class="fc" id="L70">            throw new IllegalArgumentException(&quot;character not found for decimal BaudotCode &quot; + code);</span>
        } else {
<span class="fc" id="L72">            return ch;</span>
        }
    }

    public static char toCharFromShortCode(int shortCode) {
<span class="fc" id="L77">        return toChar(shortCode + 32);</span>
    }

    @VisibleForTesting
    static int size() {
<span class="fc" id="L82">        return MAP.size();</span>
    }

}
</pre><div class="footer"><span class="right">Created with <a href="http://www.jacoco.org/jacoco">JaCoCo</a> 0.8.6.202009150832</span></div></body></html>